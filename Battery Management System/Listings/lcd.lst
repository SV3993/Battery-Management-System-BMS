C51 COMPILER V9.60.7.0   LCD                                                               07/20/2024 10:18:19 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE LCD
OBJECT MODULE PLACED IN .\Objects\lcd.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE lcd.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\lcd.l
                    -st) TABS(2) OBJECT(.\Objects\lcd.obj)

line level    source

   1          #include "lcd.h"
   2          #include <stdio.h>
   3          #include <reg51.h>
   4          
   5          sbit LCD_RS=P0^0;
   6          sbit LCD_RW=P0^1;
   7          sbit LCD_E=P0^2;
   8          #define display_port P2
   9          
  10          void LCD_Init(void){
  11   1        LCD_Cmd(0x38);
  12   1        msdelay(9);
  13   1        LCD_Cmd(0x0E);
  14   1        msdelay(9);
  15   1        LCD_Cmd(0x01);
  16   1        msdelay(9);
  17   1        LCD_Cmd(0x06);
  18   1        msdelay(9);
  19   1        LCD_Cmd(0x0C);
  20   1        msdelay(9);
  21   1        LCD_Cmd(0x80);
  22   1        msdelay(9);
  23   1      }
  24          void LCD_Cmd(unsigned char Cmd){
  25   1        display_port = Cmd;
  26   1        LCD_RS=0;
  27   1        LCD_RW=0;
  28   1        LCD_E=1;
  29   1        msdelay(3);
  30   1        LCD_E=0;
  31   1        
  32   1      }
  33          void LCD_Data(unsigned char Data){
  34   1        display_port = Data;
  35   1        LCD_RS=1;
  36   1        LCD_RW=0;
  37   1        LCD_E=1;
  38   1        msdelay(3);
  39   1        LCD_E=0;
  40   1      }
  41          
  42          void LCD_Show(char *Str)
  43          {
  44   1          while(*Str) {
  45   2              LCD_Data(*Str++);
  46   2          }
  47   1      }
  48          
  49          void LCD_DisplaySOC(unsigned int SOC_Val){
  50   1        char buffer[16];
  51   1        sprintf(buffer,"SOC : %u%%", SOC_Val);
  52   1        LCD_Show(buffer);
  53   1      }
  54          
C51 COMPILER V9.60.7.0   LCD                                                               07/20/2024 10:18:19 PAGE 2   

  55            
  56          void msdelay(unsigned int count){
  57   1        unsigned int i;
  58   1        while(count>0){
  59   2          for(i=0;i<115;i++);
  60   2          count--;
  61   2        }
  62   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    191    ----
   CONSTANT SIZE    =     11    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      19
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
